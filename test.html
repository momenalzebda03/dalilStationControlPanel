<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assest/css/bootstrap.min.css">
    <title>Document</title>
</head>

<body>
    <!-- First dropdown menu -->
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="dropdownMenuLink1" role="button" data-bs-toggle="dropdown"
                aria-expanded="false">
                First Dropdown
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink1">
                <li><a class="dropdown-item" href="#">Item 1</a></li>
                <li><a class="dropdown-item" href="#">Item 2</a></li>
                <li class="nav-item dropdown">
                    <a class="dropdown-item dropdown-toggle" href="#" id="nestedDropdown" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        Nested Dropdown
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="nestedDropdown">
                        <li><a class="dropdown-item" href="#">Nested Item 1</a></li>
                        <li><a class="dropdown-item" href="#">Nested Item 2</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

    <script src="assest/js/jquery.min.js"></script>
    <script src="assest/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function () {
            // Open the dropdown when clicking the main dropdown link
            $(".nav-item.dropdown > a").on("click", function (event) {
                var $dropdownMenu = $(this).siblings(".dropdown-menu");
                $dropdownMenu.toggleClass("show");
                event.stopPropagation(); // Prevent the click from propagating and closing the dropdown immediately
            });

            // Open the nested dropdown when clicking a nested dropdown item
            $(".dropdown-item.dropdown-toggle").on("click", function (event) {
                // Find the nested dropdown menu associated with this item
                var $nestedDropdown = $(this).siblings(".dropdown-menu");

                // Toggle the visibility of the nested dropdown
                $nestedDropdown.toggleClass("show");

                // Stop event propagation to prevent the outer dropdown from closing
                event.stopPropagation();
            });

            // Close all dropdowns when clicking outside of them
            $(document).on("click", function (event) {
                if (!$(event.target).closest(".nav-item.dropdown").length) {
                    $(".dropdown-menu").removeClass("show");
                }
            });
        });
    </script>

</body>

</html>